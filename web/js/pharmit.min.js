!function(e){e.support.cssPseudoClasses=function(){try{var n=e("<input type='checkbox' checked/>").appendTo("body"),t=e('<style type="text/css" />').appendTo("head");t.text("input:checked {width: 200px; display: none}");var a="200px"==n.css("width");return n.remove(),t.remove(),a}catch(o){return!1}}(),e.fn.fileinput=function(n){var t=this;return n||(n='<button class="fileinput">Browse...</button>'),t.each(function(){var t=e(this);t.wrap('<div class="fileinput-wrapper" style=" position: relative; display: inline-block;" />'),t.parent().mousemove(function(n){var t,a,o=e(this);t=o.offset().left,a=o.offset().top,o.find("input").css({left:n.pageX-t-o.find("input[type=file]").width()+30,top:n.pageY-a-10})}),t.attr("tabindex","-1").css({filter:"alpha(opacity=0)","-moz-opacity":0,opacity:0,position:"absolute","z-index":-1}),t.before(n),t.prev().addClass("fileinput"),e.support.cssPseudoClasses?(t.prev(".fileinput").click(function(){t.click()}),t.prev(":submit.fileinput").click(function(e){e.preventDefault()})):(t.css({"z-index":"auto",cursor:"pointer"}),t.prev(".fileinput").css("z-index",-1),t.removeAttr("tabindex"),t.prev(".fileinput").attr("tabindex","-1"),t.hover(function(){e(this).prev(".fileinput").addClass("hover")},function(){e(this).prev(".fileinput").removeClass("hover")}).focusin(function(){e(this).prev(".fileinput").addClass("focus")}).focusout(function(){e(this).prev(".fileinput").removeClass("focus")}).mousedown(function(){e(this).prev(".fileinput").addClass("active")}).mouseup(function(){e(this).prev(".fileinput").removeClass("active")}))}),t}}(jQuery);var Pharmit={};$(document).ready(function(){{var e=$("#pharmit"),n=new Pharmit.Viewer(e);new Pharmit.PharmaResults(e,n),new Pharmit.Query(e,n)}$("button, input[type='button'], input[type='submit']").button().bind("mouseup",function(){$(this).blur()})});var Pharmit=Pharmit||{};Pharmit.PharmaResults=function(){function e(){}return e}();var Pharmit=Pharmit||{};Pharmit.Query=function(){function e(e,n){var t=$("<div>").addClass("pharmit_query"),a=null,o=function(){},i=function(){},r=function(){if(this.files.length>0){var e=this.files[0],t=new FileReader;t.onload=function(t){n.setReceptor(t.target.result,e.name)},t.readAsText(e)}},p=function(){},l=function(){},d=function(){},u=function(){},s=function(e,n){var t=$("<div>").addClass("searchdiv"),a=$("<button>Search "+n[0]+"</button>").appendTo(t).button(),i=$("<button>Select subset to search</button>").appendTo(t).button({text:!1,icons:{primary:"ui-icon-triangle-1-s"}});t.buttonset();for(var r=$("<ul>").appendTo(t),p=[],l=0,d=n.length;d>l;l++)p[l]="<li>"+n[l]+"</li>";r.append(p),r.hide().menu().on("menuselect",function(e,n){a.button("option","label","Search "+n.item.text())}),a.click(o),i.click(function(){var e=r.show().position({my:"left top",at:"left buttom",of:this});return $(document).one("click",function(){e.hide()}),!1}),e.prepend(t)};this.pickCallback=function(){},t.resizable({handles:"e"});var c=$("<div>").appendTo(t).addClass("queryheader");s(c,["MolPort","ZINC"]);var m=$("<div>").appendTo(c),f=$("<button>Load Features...</button>").button(),h=$("<button>Load Receptor...</button>").button();e.append(t);$('<input type="file">').appendTo(m).fileinput(f).change(i),$('<input type="file">').appendTo(m).fileinput(h).change(r);t.detach();var v=$("<div>").appendTo(t).addClass("querybody"),b=$("<div>").appendTo(v);$("<div>Pharmacophore</div>").appendTo(b).addClass("queryheading"),a=$("<div>").appendTo(b),a.accordion({animate:!0,collapsible:!0,heightStyle:"content"});var T=($("<button>Add</button>").appendTo(b).button({text:!0,icons:{secondary:"ui-icon-circle-plus"}}).click(p),$("<button>Sort</button>").appendTo(b).button({text:!0,icons:{secondary:"ui-icon ui-icon-carat-2-n-s"}}).click(l),$("<div>").appendTo(v));$("<div>Filters</div>").appendTo(T).addClass("queryheading");var y=$("<div>").appendTo(T),C=$("<h3>Hit Reduction<br></h3>").appendTo(y),x=($('<span class="headingsummary"></span>').appendTo(C),$('<div class="hitreduction"></div>').appendTo(y)),g=$("<div>").addClass("filterrow").appendTo(x);g.append('<label title="Maximum number of orientations returned for each conformation" value="1" for="reduceorienttext">Max Hits per Conf:</label>');$('<input id="reduceorienttext" name="max-orient">').appendTo(g).spinner();g=$("<div>").addClass("filterrow").appendTo(x),g.append('<label title="Maximum number of conformations returned for each compound" value="1" for="reduceconfstext">Max Hits per Mol:</label>');$('<input id="reduceconfstext" name="reduceConfs">').appendTo(g).spinner();g=$("<div>").addClass("filterrow").appendTo(x),g.append('<label title="Maximum number of hits returned" value="1" for="reducehitstext">Max Total Hits:</label>');$('<input id="reducehitstext" name="max-hits">').appendTo(g).spinner();C=$("<h3>Hit Screening<br></h3>").appendTo(y);var w=($('<span class="headingsummary"></span>').appendTo(C),$('<div class="hitscreening"></div>').appendTo(y));g=$("<div>").addClass("filterrow").appendTo(w);$('<input id="minmolweight" name="minMolWeight">').appendTo(g).spinner();g.append($('<label title="Minimum/maximum molecular weight (weights are approximate)" value="1" for="maxmolweight">&le;  Molecular Weight &le;</label>'));$('<input id="maxmolweight" name=maxMolWeight>').appendTo(g).spinner();g=$("<div>").addClass("filterrow").appendTo(w);$('<input id="minnrot" name="minrotbonds">').appendTo(g).spinner();g.append($('<label title="Minimum/maximum number of rotatable bonds" value="1" for="maxnrot"> &le;  Rotatable Bonds &le;</label>'));$('<input id="maxnrot" name="maxrotbonds">').appendTo(g).spinner();y.accordion({animate:!0,collapsible:!0,heightStyle:"content"});var P=$("<div>").appendTo(v);$("<div>Visualization</div>").appendTo(P).addClass("queryheading"),n.appendViewerControls(P);var M=$("<div>").appendTo(t).addClass("queryfooter");e.append(t);{var k=$("<button>Load Session...</button>").button();$('<input type="file">').appendTo(M).fileinput(k).change(d),$("<button>Save Session...</button>").appendTo(M).button().click(u)}}return e}();var Pharmit=Pharmit||{};Pharmit.Viewer=function(){function e(e){var n=$3Dmol.elementColors,t=[{name:"None",color:null},{name:"RasMol",color:n.rasmol},{name:"White",color:n.whiteCarbon},{name:"Green",color:n.greenCarbon},{name:"Cyan",color:n.cyanCarbon},{name:"Magenta",color:n.magentaCarbon},{name:"Yellow",color:n.yellowCarbon},{name:"Orange",color:n.orangeCarbon},{name:"Purple",color:n.purpleCarbon},{name:"Blue",color:n.blueCarbon}],a=null,o=null,i=function(e){if(!e)return"";var n=e.split(".");return n.length<=1?"":n.pop()},r=function(e,n){var a=$("<div>"),o=e+"MolStyleSelect";$('<label for="'+o+'">'+e+" Style</label>").appendTo(a).addClass("stylelabel");for(var i=$('<select name="'+o+'" id="'+o+'">').appendTo(a).addClass("styleselector"),r=0,p=t.length;p>r;r++)$('<option value="'+r+'">'+t[r].name+"</option>").appendTo(i);return i.val(n),i.selectmenu({width:120}),a};this.appendViewerControls=function(e){r("Ligand",1,null).appendTo(e),r("Results",1,null).appendTo(e),r("Receptor",2,null).appendTo(e),$('<label for="surfacetransparency">Receptor Surface Opacity</label>').appendTo(e);var n=$("<div>").addClass("surfacetransparencydiv").appendTo(e);$('<div id="surfacetransparency">').appendTo(n).slider({animate:"fast",step:.05,min:0,max:1,value:.8})},this.setReceptor=function(e,n){if(e){var t=i(n);o=a.addModel(e,t)}else o&&a.removeModel(o),o=null;a.zoomTo(),a.render()},a=new $3Dmol.GLViewer(e),a.setBackgroundColor("white")}return e}();